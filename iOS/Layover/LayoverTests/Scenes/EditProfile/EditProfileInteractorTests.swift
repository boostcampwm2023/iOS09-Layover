//
//  EditProfileInteractorTests.swift
//  Layover
//
//  Created by ê¹€ì¸í™˜ on 12/13/23.
//  Copyright (c) 2023 CodeBomber. All rights reserved.
//
//  This file was generated by the Clean Swift Xcode Templates so
//  you can apply clean architecture to your iOS and Mac projects,
//  see http://clean-swift.com
//

@testable import Layover
import XCTest

final class EditProfileInteractorTests: XCTestCase {
    // MARK: Subject under test

    var sut: EditProfileInteractor!

    let stubNickname = "ì•ˆìœ ì§„"
    let stubIntroduce = "ì•„ì´ë¸Œì˜ ë¦¬ë” ì•ˆìœ ì§„"
    let stubProfileImageData = Seeds.sampleImageData

    typealias Models = EditProfileModels

    // MARK: - Test lifecycle

    override func setUp() {
        super.setUp()
        setupEditProfileInteractor()
    }

    override func tearDown() {
        super.tearDown()
    }

    // MARK: - Test setup

    func setupEditProfileInteractor() {
        sut = EditProfileInteractor()
        sut.userWorker = MockUserWorker()
        sut.nickname = stubNickname
        sut.introduce = stubIntroduce
        sut.profileImageData = stubProfileImageData
    }

    // MARK: - Test doubles

    final class EditProfilePresentationLogicSpy: EditProfilePresentationLogic {
        var presentSetProfileCalled = false
        var presentSetProfileResponse: Models.SetProfile.Response!
        var presentEditProfileCalled = false
        var presentProfileStateCalled = false
        var presentProfileStateResponse: Models.ChangeProfile.Response!
        var presentNicknameDuplicationCalled = false
        var presentNicknameDuplicationResponse: Models.CheckNicknameDuplication.Response!

        func presentProfile(with response: Models.SetProfile.Response) {
            presentSetProfileCalled = true
            presentSetProfileResponse = response
        }

        func presentProfile(with response: Models.EditProfile.Response) {
            presentEditProfileCalled = true
        }

        func presentProfileState(with response: Models.ChangeProfile.Response) {
            presentProfileStateCalled = true
            presentProfileStateResponse = response
        }

        func presentNicknameDuplication(with response: Models.CheckNicknameDuplication.Response) {
            presentNicknameDuplicationCalled = true
            presentNicknameDuplicationResponse = response
        }
    }

    // MARK: - Tests

    func test_setProfileì„_ì‹¤í–‰í•˜ë©´_presenterì˜_presentProfileì´_í˜¸ì¶œë˜ê³ _ìì‹ ì˜_ë°ì´í„°ë¥¼_presenterì—ê²Œ_ì „ë‹¬í•œë‹¤() {
        // arrange
        let spy = EditProfilePresentationLogicSpy()
        sut.presenter = spy

        // act
        sut.setProfile(with: Models.SetProfile.Request())

        // assert
        XCTAssertTrue(spy.presentSetProfileCalled, "setProfileì€ presenterì˜ presentProfileì„ í˜¸ì¶œí•˜ì§€ ëª»í–ˆë‹¤.")
        XCTAssertEqual(spy.presentSetProfileResponse.nickname, stubNickname, "setProfileì€ presenterì—ê²Œ nicknameì„ ì „ë‹¬í•˜ì§€ ëª»í–ˆë‹¤.")
        XCTAssertEqual(spy.presentSetProfileResponse.introduce, stubIntroduce, "setProfileì€ presenterì—ê²Œ introduceë¥¼ ì „ë‹¬í•˜ì§€ ëª»í–ˆë‹¤.")
        XCTAssertEqual(spy.presentSetProfileResponse.profileImageData, stubProfileImageData, "setProfileì€ presenterì—ê²Œ profileImageDataë¥¼ ì „ë‹¬í•˜ì§€ ëª»í–ˆë‹¤.")
    }

    func test_changeProfileì„_ì‹¤í–‰í–ˆì„ë•Œ_presenterì˜_presentProfileStateê°€_í˜¸ì¶œë˜ê³ _ì „ë‹¬ëœ_nicknameì´_2ì_ì´ìƒ_8ì_ì´í•˜ì˜_í•œê¸€ì˜ìˆ«ìë¡œë§Œ_ì´ë£¨ì–´ì§„_ë‹‰ë„¤ì„ì´ë©´_presenterì—_nicknameStateë¥¼_validë¡œ_ì „ë‹¬í•˜ê³ _canEditProfileì„_Trueë¡œ_ì „ë‹¬í•˜ê³ _ê¸°ì¡´_ë‹‰ë„¤ì„ê³¼_ë‹¤ë¥´ë©´_canCheckNicknameDuplicateë¥¼_trueë¡œ_ì „ë‹¬í•œë‹¤() {
        // arrange
        let changedNickname = "ì•ˆìœ ì§„an12"
        let spy = EditProfilePresentationLogicSpy()
        sut.presenter = spy

        // act
        sut.changeProfile(with: Models.ChangeProfile.Request(changedProfileComponent: .nickname(changedNickname)))

        // assert
        XCTAssertTrue(spy.presentProfileStateCalled, "changeProfileì„ í˜¸ì¶œí•´ì„œ presenterì˜ presentProfileStateë¥¼ í˜¸ì¶œí•˜ì§€ ëª»í–ˆë‹¤.")
        XCTAssertEqual(spy.presentProfileStateResponse.nicknameState, .valid, "changeProfileì„ í˜¸ì¶œí•´ì„œ presenterì—ê²Œ ì˜¬ë°”ë¥¸ nicknameì˜ nicknameStateë¥¼ ì „ë‹¬í•˜ì§€ ëª»í–ˆë‹¤.")
        XCTAssertFalse(spy.presentProfileStateResponse.canEditProfile, "changeProfileì„ í˜¸ì¶œí•´ì„œ presenterì—ê²Œ ì˜¬ë°”ë¥¸ canEditProfile ê°’ì„ ì „ë‹¬í•˜ì§€ ëª»í–ˆë‹¤.")
        XCTAssertNil(spy.presentProfileStateResponse.introduceAlertDescription, "presenterì—ê²Œ ì˜¬ë°”ë¥¸ introduceAlertDescriptionì„ ì „ë‹¬í•˜ì§€ ëª»í–ˆë‹¤.")
        XCTAssertTrue(spy.presentProfileStateResponse.canCheckNicknameDuplication!, "changeProfileì„ í˜¸ì¶œí•´ì„œ presenterì—ê²Œ anCheckNicknameDuplicationì„ trueë¡œ ì „ë‹¬í•˜ì§€ ëª»í–ˆë‹¤.")
    }

    func test_changeProfileì„_ì‹¤í–‰í–ˆì„ë•Œ_presenterì˜_presentProfileStateê°€_í˜¸ì¶œë˜ê³ _ì „ë‹¬ëœ_nicknameì´_2ì_ì´ìƒ_8ì_ì´í•˜ì˜_í•œê¸€ì˜ìˆ«ìë¡œë§Œ_ì´ë£¨ì–´ì§„_ë‹‰ë„¤ì„ì´ë©´_presenterì—_nicknameStateë¥¼_validë¡œ_ì „ë‹¬í•˜ê³ _ê¸°ì¡´_ë‹‰ë„¤ì„ê³¼_ê°™ìœ¼ë©´_canEditProfileì„_falseë¡œ_ì „ë‹¬í•˜ê³ _canCheckNicknameDuplicateë¥¼_falseë¡œ_ì „ë‹¬í•œë‹¤() {
        // arrange
        let changedNickname = stubNickname
        let spy = EditProfilePresentationLogicSpy()
        sut.presenter = spy

        // act
        sut.changeProfile(with: Models.ChangeProfile.Request(changedProfileComponent: .nickname(changedNickname)))

        // assert
        XCTAssertTrue(spy.presentProfileStateCalled, "changeProfileì„ í˜¸ì¶œí•´ì„œ presenterì˜ presentProfileStateë¥¼ í˜¸ì¶œí•˜ì§€ ëª»í–ˆë‹¤.")
        XCTAssertEqual(spy.presentProfileStateResponse.nicknameState, .valid, "changeProfileì„ í˜¸ì¶œí•´ì„œ presenterì—ê²Œ ì˜¬ë°”ë¥¸ nicknameì˜ nicknameStateë¥¼ ì „ë‹¬í•˜ì§€ ëª»í–ˆë‹¤.")
        XCTAssertFalse(spy.presentProfileStateResponse.canEditProfile, "changeProfileì„ í˜¸ì¶œí•´ì„œ presenterì—ê²Œ ì˜¬ë°”ë¥¸ canEditProfileê°’ì„ ì „ë‹¬í•˜ì§€ ëª»í–ˆë‹¤.")
        XCTAssertNil(spy.presentProfileStateResponse.introduceAlertDescription, "presenterì—ê²Œ ì˜¬ë°”ë¥¸ introduceAlertDescriptionì„ ì „ë‹¬í•˜ì§€ ëª»í–ˆë‹¤.")
        XCTAssertFalse(spy.presentProfileStateResponse.canCheckNicknameDuplication!, "changeProfileì„ í˜¸ì¶œí•´ì„œ presenterì—ê²Œ ì˜¬ë°”ë¥¸ canCheckNicknameDuplicationì„ ì „ë‹¬í•˜ì§€ ëª»í–ˆë‹¤.")
    }


    func test_changeProfileì„_ì‹¤í–‰í–ˆì„ë•Œ_presenterì˜_presentProfileStateê°€_í˜¸ì¶œë˜ê³ _ì „ë‹¬ëœ_nicknameì´_2ì_ì´ìƒ_8ì_ì´í•˜ë¡œ_ì´ë£¨ì–´ì§„_í•œê¸€ì˜ìˆ«ìë¡œë§Œ_ì´ë£¨ì–´ì§€ì§€_ì•Šì€_ë‹¤ë¥¸_ë‹‰ë„¤ì„ì´ë©´_presenterì—_nicknameStateë¥¼_invalidCharacterë¡œ_ì „ë‹¬í•œë‹¤() {
        // arrange
        let changedNickname = "ìœ ì§„jinğŸ˜­"
        let spy = EditProfilePresentationLogicSpy()
        sut.presenter = spy

        // act
        sut.changeProfile(with: Models.ChangeProfile.Request(changedProfileComponent: .nickname(changedNickname)))

        // assert
        XCTAssertTrue(spy.presentProfileStateCalled, "changeProfileì„ í˜¸ì¶œí•´ì„œ presenterì˜ presentProfileStateë¥¼ í˜¸ì¶œí•˜ì§€ ëª»í–ˆë‹¤.")
        XCTAssertEqual(spy.presentProfileStateResponse.nicknameState, .invalidCharacter, "changeProfileì„ í˜¸ì¶œí•´ì„œ presenterì—ê²Œ ì˜¬ë°”ë¥¸ nicknameì˜ nicknameStateë¥¼ ì „ë‹¬í•˜ì§€ ëª»í–ˆë‹¤.")
        XCTAssertFalse(spy.presentProfileStateResponse.canEditProfile, "changeProfileì„ í˜¸ì¶œí•´ì„œ presenterì—ê²Œ ì˜¬ë°”ë¥¸ canEditProfileê°’ì„ ì „ë‹¬í•˜ì§€ ëª»í–ˆë‹¤.")
        XCTAssertNil(spy.presentProfileStateResponse.introduceAlertDescription, "presenterì—ê²Œ ì˜¬ë°”ë¥¸ introduceAlertDescriptionì„ ì „ë‹¬í•˜ì§€ ëª»í–ˆë‹¤.")
        XCTAssertFalse(spy.presentProfileStateResponse.canCheckNicknameDuplication!, "changeProfileì„ í˜¸ì¶œí•´ì„œ presenterì—ê²Œ ì˜¬ë°”ë¥¸ canCheckNicknameDuplicationì„ ì „ë‹¬í•˜ì§€ ëª»í–ˆë‹¤.")
    }

    func test_changeProfileì„_ì‹¤í–‰í–ˆì„ë•Œ_presenterì˜_presentProfileStateê°€_í˜¸ì¶œë˜ê³ _ì „ë‹¬ëœ_nicknameì´_2ì_ë¯¸ë§Œ_ìœ¼ë¡œ_ì´ë£¨ì–´ì§„_í•œê¸€ë¡œë§Œ_ì´ë£¨ì–´ì§„_ë‹‰ë„¤ì„ì´ë©´_presenterì—_nicknameStateë¥¼_lessThan2GreaterThan8ë¡œ_ì „ë‹¬í•œë‹¤() {
        // arrange
        let changedNickname = "ì•ˆ"
        let spy = EditProfilePresentationLogicSpy()
        sut.presenter = spy

        // act
        sut.changeProfile(with: Models.ChangeProfile.Request(changedProfileComponent: .nickname(changedNickname)))

        // assert
        XCTAssertTrue(spy.presentProfileStateCalled, "changeProfileì„ í˜¸ì¶œí•´ì„œ presenterì˜ presentProfileStateë¥¼ í˜¸ì¶œí•˜ì§€ ëª»í–ˆë‹¤.")
        XCTAssertEqual(spy.presentProfileStateResponse.nicknameState,  .lessThan2GreaterThan8, "changeProfileì„ í˜¸ì¶œí•´ì„œ presenterì—ê²Œ ì˜¬ë°”ë¥¸ nicknameì˜ nicknameStateë¥¼ ì „ë‹¬í•˜ì§€ ëª»í–ˆë‹¤.")
        XCTAssertFalse(spy.presentProfileStateResponse.canEditProfile, "changeProfileì„ í˜¸ì¶œí•´ì„œ presenterì—ê²Œ ì˜¬ë°”ë¥¸ canEditProfileê°’ì„ ì „ë‹¬í•˜ì§€ ëª»í–ˆë‹¤.")
        XCTAssertNil(spy.presentProfileStateResponse.introduceAlertDescription, "presenterì—ê²Œ ì˜¬ë°”ë¥¸ introduceAlertDescriptionì„ ì „ë‹¬í•˜ì§€ ëª»í–ˆë‹¤.")
        XCTAssertFalse(spy.presentProfileStateResponse.canCheckNicknameDuplication!, "changeProfileì„ í˜¸ì¶œí•´ì„œ presenterì—ê²Œ ì˜¬ë°”ë¥¸ canCheckNicknameDuplicationì„ ì „ë‹¬í•˜ì§€ ëª»í–ˆë‹¤.")
    }
    func test_changeProfileì„_ì‹¤í–‰í–ˆì„ë•Œ_presenterì˜_presentProfileStateê°€_í˜¸ì¶œë˜ê³ _ì „ë‹¬ëœ_nicknameì´_2ì_ë¯¸ë§Œ_ìœ¼ë¡œ_ì´ë£¨ì–´ì§„_ì˜ì–´ë¡œë§Œ_ì´ë£¨ì–´ì§„_ë‹‰ë„¤ì„ì´ë©´_presenterì—_nicknameStateë¥¼_lessThan2GreaterThan8ë¡œ_ì „ë‹¬í•œë‹¤() {
        // arrange
        let changedNickname = "a"
        let spy = EditProfilePresentationLogicSpy()
        sut.presenter = spy

        // act
        sut.changeProfile(with: Models.ChangeProfile.Request(changedProfileComponent: .nickname(changedNickname)))

        // assert
        XCTAssertTrue(spy.presentProfileStateCalled, "changeProfileì„ í˜¸ì¶œí•´ì„œ presenterì˜ presentProfileStateë¥¼ í˜¸ì¶œí•˜ì§€ ëª»í–ˆë‹¤.")
        XCTAssertEqual(spy.presentProfileStateResponse.nicknameState,  .lessThan2GreaterThan8, "changeProfileì„ í˜¸ì¶œí•´ì„œ presenterì—ê²Œ ì˜¬ë°”ë¥¸ nicknameì˜ nicknameStateë¥¼ ì „ë‹¬í•˜ì§€ ëª»í–ˆë‹¤.")

        XCTAssertFalse(spy.presentProfileStateResponse.canEditProfile, "changeProfileì„ í˜¸ì¶œí•´ì„œ presenterì—ê²Œ ì˜¬ë°”ë¥¸ canEditProfileê°’ì„ ì „ë‹¬í•˜ì§€ ëª»í–ˆë‹¤.")

        XCTAssertNil(spy.presentProfileStateResponse.introduceAlertDescription, "presenterì—ê²Œ ì˜¬ë°”ë¥¸ introduceAlertDescriptionì„ ì „ë‹¬í•˜ì§€ ëª»í–ˆë‹¤.")

        XCTAssertFalse(spy.presentProfileStateResponse.canCheckNicknameDuplication!, "changeProfileì„ í˜¸ì¶œí•´ì„œ presenterì—ê²Œ ì˜¬ë°”ë¥¸ canCheckNicknameDuplicationì„ ì „ë‹¬í•˜ì§€ ëª»í–ˆë‹¤.")
    }

    func test_changeProfileì„_ì‹¤í–‰í–ˆì„ë•Œ_presenterì˜_presentProfileStateê°€_í˜¸ì¶œë˜ê³ _ì „ë‹¬ëœ_nicknameì´_8ì_ì´ìƒ_ìœ¼ë¡œ_ì´ë£¨ì–´ì§„_í•œê¸€ì˜ìˆ«ìë¡œë§Œ_ì´ë£¨ì–´ì§„_ë‹‰ë„¤ì„ì´ë©´_presenterì—_nicknameStateë¥¼_lessThan2GreaterThan8ë¡œ_ì „ë‹¬í•œë‹¤() {
        // arrange
        let changedNickname = "ì•ˆìœ ì§„ì•ˆëŒ•ëŒ•good123"
        let spy = EditProfilePresentationLogicSpy()
        sut.presenter = spy

        // act
        sut.changeProfile(with: Models.ChangeProfile.Request(changedProfileComponent: .nickname(changedNickname)))

        // assert
        XCTAssertTrue(spy.presentProfileStateCalled, "changeProfileì„ í˜¸ì¶œí•´ì„œ presenterì˜ presentProfileStateë¥¼ í˜¸ì¶œí•˜ì§€ ëª»í–ˆë‹¤.")
        XCTAssertEqual(spy.presentProfileStateResponse.nicknameState, .lessThan2GreaterThan8, "changeProfileì„ í˜¸ì¶œí•´ì„œ presenterì—ê²Œ ì˜¬ë°”ë¥¸ nicknameì˜ nicknameStateë¥¼ lessThan2GreaterThan8ë¡œ ì „ë‹¬í•˜ì§€ ëª»í–ˆë‹¤.")
        XCTAssertFalse(spy.presentProfileStateResponse.canEditProfile, "changeProfileì„ í˜¸ì¶œí•´ì„œ presenterì—ê²Œ ì˜¬ë°”ë¥¸ canEditProfileê°’ì„ ì „ë‹¬í•˜ì§€ ëª»í–ˆë‹¤.")
        XCTAssertNil(spy.presentProfileStateResponse.introduceAlertDescription, "presenterì—ê²Œ ì˜¬ë°”ë¥¸ introduceAlertDescriptionì„ ì „ë‹¬í•˜ì§€ ëª»í–ˆë‹¤.")
        XCTAssertFalse(spy.presentProfileStateResponse.canCheckNicknameDuplication!, "changeProfileì„ í˜¸ì¶œí•´ì„œ presenterì—ê²Œ ì˜¬ë°”ë¥¸ canCheckNicknameDuplicationì„ ì „ë‹¬í•˜ì§€ ëª»í–ˆë‹¤.")
    }

    func test_changeProfileì„_ì‹¤í–‰í–ˆì„ë•Œ_presenterì˜_presentProfileStateê°€_í˜¸ì¶œë˜ê³ _ì „ë‹¬ëœ_introduceì˜_ê¸¸ì´ê°€_introduceLengthLimitë³´ë‹¤_ì§§ìœ¼ë©´_presenterì—_introduceAlertDescriptionì´_nil_ë¡œ_ì „ë‹¬ëœë‹¤() {
        // arrange
        let changedIntroduce = "ì•ˆë…•í•˜ì„¸ìš” ì•„ì´ë¸Œì˜ ë¦¬ë” ì•ˆìœ ì§„ì…ë‹ˆë‹¤."
        let spy = EditProfilePresentationLogicSpy()
        sut.presenter = spy

        // act
        sut.changeProfile(with: Models.ChangeProfile.Request(changedProfileComponent: .introduce(changedIntroduce)))

        // assert
        XCTAssertTrue(spy.presentProfileStateCalled, "changeProfileì„ í˜¸ì¶œí•´ì„œ presenterì˜ presentProfileStateë¥¼ í˜¸ì¶œí•˜ì§€ ëª»í–ˆë‹¤.")
        XCTAssertNil(spy.presentProfileStateResponse.introduceAlertDescription, "changeProfileì„ í˜¸ì¶œí•´ì„œ presenterì—ê²Œ introduceAlertDescriptionì´ Nilë¡œ ì „ë‹¬í•˜ì§€ ëª»í–ˆë‹¤.")

        XCTAssertTrue(spy.presentProfileStateResponse.canEditProfile, "changeProfileì„ í˜¸ì¶œí•´ì„œ presenterì—ê²Œ ì˜¬ë°”ë¥¸ canEditProfileê°’ì„ ì „ë‹¬í•˜ì§€ ëª»í–ˆë‹¤.")

        XCTAssertNil(spy.presentProfileStateResponse.canCheckNicknameDuplication, "changeProfileì„ í˜¸ì¶œí•´ì„œ presenterì—ê²Œ ì˜¬ë°”ë¥¸ canCheckNicknameDuplicationì„ ì „ë‹¬í•˜ì§€ ëª»í–ˆë‹¤.")

        XCTAssertEqual(spy.presentProfileStateResponse.nicknameState, .valid, "changeProfileì„ í˜¸ì¶œí•´ì„œ presenterì—ê²Œ ì˜¬ë°”ë¥¸ nicknameì˜ nicknameStateë¥¼ ì „ë‹¬í•˜ì§€ ëª»í–ˆë‹¤.")
    }

    func test_changeProfileì„_ì‹¤í–‰í–ˆì„ë•Œ_presenterì˜_presentProfileStateê°€_í˜¸ì¶œë˜ê³ _ì „ë‹¬ëœ_introduceì˜_ê¸¸ì´ê°€_ChangeProfile_introduceLengthLimitë³´ë‹¤_ê¸¸ë©´_presenterì—_introduceAlertDescriptionì´_IntroduceLengthState_overLengthì˜_description_ìœ¼ë¡œ_ì „ë‹¬ëœë‹¤() {
        // arrange
        let changedIntroduce = "ì•ˆë…•í•˜ì„¸ìš” ì•„ì´ë¸Œì˜ ë¦¬ë” ì•ˆìœ ì§„ì…ë‹ˆë‹¤.ì•ˆë…•í•˜ì„¸ìš” ì•„ì´ë¸Œì˜ ë¦¬ë” ì•ˆìœ ì§„ì…ë‹ˆë‹¤.ì•ˆë…•í•˜ì„¸ìš” ì•„ì´ë¸Œì˜ ë¦¬ë” ì•ˆìœ ì§„ì…ë‹ˆë‹¤.ì•ˆë…•í•˜ì„¸ìš” ì•„ì´ë¸Œì˜ ë¦¬ë” ì•ˆìœ ì§„ì…ë‹ˆë‹¤."
        let spy = EditProfilePresentationLogicSpy()
        sut.presenter = spy

        // act
        sut.changeProfile(with: Models.ChangeProfile.Request(changedProfileComponent: .introduce(changedIntroduce)))

        // assert
        XCTAssertTrue(spy.presentProfileStateCalled, "changeProfileì„ í˜¸ì¶œí•´ì„œ presenterì˜ presentProfileStateë¥¼ í˜¸ì¶œí•˜ì§€ ëª»í–ˆë‹¤.")
        XCTAssertEqual(spy.presentProfileStateResponse.introduceAlertDescription, Models.ChangeProfile.IntroduceLengthState.overLength.description,"changeProfileì„ í˜¸ì¶œí•´ì„œ presenterì—ê²Œ introduceAlertDescriptionì´ Nilë¡œ ì „ë‹¬í•˜ì§€ ëª»í–ˆë‹¤.")


        XCTAssertFalse(spy.presentProfileStateResponse.canEditProfile, "changeProfileì„ í˜¸ì¶œí•´ì„œ presenterì—ê²Œ ì˜¬ë°”ë¥¸ canEditProfileê°’ì„ ì „ë‹¬í•˜ì§€ ëª»í–ˆë‹¤.")


        XCTAssertNil(spy.presentProfileStateResponse.canCheckNicknameDuplication, "changeProfileì„ í˜¸ì¶œí•´ì„œ presenterì—ê²Œ ì˜¬ë°”ë¥¸ canCheckNicknameDuplicationì„ ì „ë‹¬í•˜ì§€ ëª»í–ˆë‹¤.")

        XCTAssertEqual(spy.presentProfileStateResponse.nicknameState, .valid, "changeProfileì„ í˜¸ì¶œí•´ì„œ presenterì—ê²Œ ì˜¬ë°”ë¥¸ nicknameì˜ nicknameStateë¥¼ ì „ë‹¬í•˜ì§€ ëª»í–ˆë‹¤.")
    }

    func test_changeProfileì„_ì‹¤í–‰í–ˆì„ë•Œ_presenterì˜_presentProfileStateê°€_í˜¸ì¶œë˜ê³ _ì „ë‹¬ëœ_introduceê°€_ì›ë˜ì˜_introduceì™€_ê°™ìœ¼ë©´_presenterì—_introduceAlertDescriptionì´_nilë¡œ_ì „ë‹¬ëœë‹¤() {
        // arrange
        let changedIntroduce = "ì•ˆë…•í•˜ì„¸ìš” ì•„ì´ë¸Œì˜ ë¦¬ë” ì•ˆìœ ì§„ì…ë‹ˆë‹¤."
        let spy = EditProfilePresentationLogicSpy()
        sut.presenter = spy

        // act
        sut.changeProfile(with: Models.ChangeProfile.Request(changedProfileComponent: .introduce(changedIntroduce)))

        // assert
        XCTAssertTrue(spy.presentProfileStateCalled, "changeProfileì„ í˜¸ì¶œí•´ì„œ presenterì˜ presentProfileStateë¥¼ í˜¸ì¶œí•˜ì§€ ëª»í–ˆë‹¤.")
        XCTAssertNil(spy.presentProfileStateResponse.introduceAlertDescription, "changeProfileì„ í˜¸ì¶œí•´ì„œ presenterì—ê²Œ introduceAlertDescriptionì´ Nilë¡œ ì „ë‹¬í•˜ì§€ ëª»í–ˆë‹¤.")

        XCTAssertTrue(spy.presentProfileStateResponse.canEditProfile, "changeProfileì„ í˜¸ì¶œí•´ì„œ presenterì—ê²Œ ì˜¬ë°”ë¥¸ canEditProfileê°’ì„ ì „ë‹¬í•˜ì§€ ëª»í–ˆë‹¤.")

        XCTAssertNil(spy.presentProfileStateResponse.canCheckNicknameDuplication, "changeProfileì„ í˜¸ì¶œí•´ì„œ presenterì—ê²Œ ì˜¬ë°”ë¥¸ canCheckNicknameDuplicationì„ ì „ë‹¬í•˜ì§€ ëª»í–ˆë‹¤.")

        XCTAssertEqual(spy.presentProfileStateResponse.nicknameState, .valid, "changeProfileì„ í˜¸ì¶œí•´ì„œ presenterì—ê²Œ ì˜¬ë°”ë¥¸ nicknameì˜ nicknameStateë¥¼ ì „ë‹¬í•˜ì§€ ëª»í–ˆë‹¤.")
    }

    func test_changeProfileì„_ì‹¤í–‰í–ˆì„ë•Œ_presenterì˜_presentProfileStateê°€_í˜¸ì¶œë˜ê³ _ì „ë‹¬ëœ_ê°’ì´_profileImageë¼ë©´_ì´ì „ì˜_ìƒíƒœê°’ë“¤ì´_ì „ë‹¬ëœë‹¤() {

        // arrange
        let spy = EditProfilePresentationLogicSpy()
        sut.presenter = spy

        // act
        sut.changeProfile(with: Models.ChangeProfile.Request(changedProfileComponent: .profileImage(nil)))

        // assert
        XCTAssertTrue(spy.presentProfileStateCalled, "changeProfileì„ í˜¸ì¶œí•´ì„œ presenterì˜ presentProfileStateë¥¼ í˜¸ì¶œí•˜ì§€ ëª»í–ˆë‹¤.")
        XCTAssertNil(spy.presentProfileStateResponse.introduceAlertDescription, "changeProfileì„ í˜¸ì¶œí•´ì„œ presenterì—ê²Œ introduceAlertDescriptionì´ Nilë¡œ ì „ë‹¬í•˜ì§€ ëª»í–ˆë‹¤.")

        XCTAssertTrue(spy.presentProfileStateResponse.canEditProfile, "changeProfileì„ í˜¸ì¶œí•´ì„œ presenterì—ê²Œ ì˜¬ë°”ë¥¸ canEditProfileê°’ì„ ì „ë‹¬í•˜ì§€ ëª»í–ˆë‹¤.")

        XCTAssertNil(spy.presentProfileStateResponse.canCheckNicknameDuplication, "changeProfileì„ í˜¸ì¶œí•´ì„œ presenterì—ê²Œ ì˜¬ë°”ë¥¸ canCheckNicknameDuplicationì„ ì „ë‹¬í•˜ì§€ ëª»í–ˆë‹¤.")

        XCTAssertEqual(spy.presentProfileStateResponse.nicknameState, .valid, "changeProfileì„ í˜¸ì¶œí•´ì„œ presenterì—ê²Œ ì˜¬ë°”ë¥¸ nicknameì˜ nicknameStateë¥¼ ì „ë‹¬í•˜ì§€ ëª»í–ˆë‹¤.")
    }

    func test_checkDuplicationì„_ì‹¤í–‰í–ˆì„ë•Œ_ì¤‘ë³µëœ_ë‹‰ë„¤ì„ì´_ì•„ë‹ˆë¼ë©´_presenterì˜_presentNicknameDuplicationì„_í˜¸ì¶œí•˜ê³ _ì˜¬ë°”ë¥¸_ê°’ì„_ì „ë‹¬í•œë‹¤() async {

        // arrange
        let spy = EditProfilePresentationLogicSpy()
        sut.presenter = spy

        // act
        await sut.checkDuplication(with: Models.CheckNicknameDuplication.Request(nickname: "ì•ˆìœ ì§„"))

        // assert
        XCTAssertTrue(spy.presentNicknameDuplicationCalled, "checkDuplicationì„ í˜¸ì¶œí•´ì„œ presenterì˜ presentNicknameDuplicationì„ í˜¸ì¶œí•˜ì§€ ëª»í–ˆë‹¤.")
        XCTAssertTrue(spy.presentNicknameDuplicationResponse.isValid,
                      "checkDuplicationì„ í˜¸ì¶œí•´ì„œ presenterì—ê²Œ ì˜¬ë°”ë¥¸ isValidê°’ì„ ì „ë‹¬í•˜ì§€ ëª»í–ˆë‹¤.")

        XCTAssertTrue(spy.presentNicknameDuplicationResponse.canEditProfile,
                     "checkDuplicationì„ í˜¸ì¶œí•´ì„œ presenterì—ê²Œ ì˜¬ë°”ë¥¸ canEditProfileê°’ì„ ì „ë‹¬í•˜ì§€ ëª»í–ˆë‹¤.")
    }

    // TODO: editProfile í…ŒìŠ¤íŠ¸ ë©”ì„œë“œëŠ” ë‚´ë¶€ ë³‘ë ¬ì‹¤í–‰ ì´ìŠˆ í•´ê²° í›„ ì‘ì„±
}
